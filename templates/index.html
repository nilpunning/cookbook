{{define "body"}}
    <form
        class="search-form no-print"
        hx-get="/"
        hx-trigger="submit"
        hx-target="#recipes"
        hx-push-url="true"
    >
        <input
            type="search"
            name="q"
            placeholder="Search recipes..."
            value="{{.Query}}"
            hx-get="/"
            hx-trigger="input changed delay:250ms, search"
            hx-target="#recipes"
            hx-push-url="true"
        >
        <button type="submit">Search</button>
    </form>
    <div id="recipes">
        {{block "recipesBody" .}}
            {{/* By default show recipes grouped by tag */}}
            <div class="tag-list">
                {{range .Tags}}
                    <h2>{{.TagName}}</h2>
                    {{block "recipes" .}}
                        {{range .Recipes}}
                            <a href="/recipe/{{.Webpath}}" class="recipe-link">{{.Name}}</a>
                            <div class="recipe-snippet">{{.Snippet}}</div>
                        {{end}}
                    {{end}}
                {{end}}
            </div>
            {{/* When there is a query show the recipes by relevance */}}
            {{template "recipes" .}}
        {{end}}
    </div>
{{end}}
